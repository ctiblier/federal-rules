---
interface Props {
  noSearch?: boolean;
}
const { noSearch = false } = Astro.props;
const isAbout = Astro.url.pathname.startsWith('/about');
---

<header
  class="sticky top-0 z-20 border-b"
  style="background-color: rgba(248,245,240,0.95); backdrop-filter: blur(8px); border-color: rgba(28,28,30,0.1);"
>
  <div class="flex items-center justify-between px-4 sm:px-6 py-3 max-w-5xl mx-auto">
    <a
      href="/"
      class="site-name font-bold text-[15px] transition-colors pl-10 md:pl-0 truncate mr-4 flex items-center gap-2"
      style="font-family: 'Lora', Georgia, serif; color: #1c1c1e;"
    >
      <svg width="22" height="22" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="shrink-0">
        <circle cx="16" cy="16" r="16" fill="#1a2744"/>
        <text x="16" y="22.5" text-anchor="middle" font-size="19" font-family="Georgia,serif" font-weight="bold" fill="#c9a84c">ยง</text>
      </svg>
      Federal Rules
    </a>
    <nav class="flex items-center gap-4 text-sm shrink-0" aria-label="Site navigation" style="font-family: system-ui, sans-serif;">
      {!noSearch && (
        <a
          href="#search"
          class="site-nav-link flex items-center gap-1.5 transition-colors"
          style="color: #6b7280;"
          aria-label="Jump to search"
        >
          <svg width="15" height="15" viewBox="0 0 15 15" fill="none" aria-hidden="true">
            <circle cx="6.5" cy="6.5" r="4.5" stroke="currentColor" stroke-width="1.3"/>
            <path d="M10 10l3 3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/>
          </svg>
          <span class="hidden sm:inline">Search</span>
        </a>
      )}
      <a href="/about/" class:list={['site-nav-link transition-colors', { 'site-nav-link--active': isAbout }]} style={`font-size: 0.8125rem;${isAbout ? ' color: #1c1c1e; font-weight: 600;' : ' color: #6b7280;'}`}>About</a>
    </nav>
  </div>
</header>

<style>
  .site-nav-link:hover { color: #1c1c1e; }
  .site-nav-link--active { border-bottom: 2px solid #c9a84c; padding-bottom: 2px; }
  .site-name:hover { color: #1a2744; }
</style>
